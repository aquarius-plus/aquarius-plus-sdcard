1 REM Char-based Greyscale Mandelbrot
2 SET FAST ON
5 CLS 15,0
6 REM GOSUB _OPGET
7 GOSUB _NPSET
8 LOCATE 10,22
9 PRINT"Generating Mandelbrot"
10 LOCATE 8,22
15 FOR Y=-2 TO 2 STEP 0.2
20 FOR X=-2 TO 2 STEP 0.1
30 N=0
40 V=X
50 W=Y
59 REM if v*v+w*w<4 and n<15 then 140
60 IF V*V+W*W<4 AND N<15 THEN 140
70 A=Y*5+10
80 B=X*10+20
90 P=13392+B+A*40
91 P2=12368+B+A*40
100 POKE P,(N*(N+1))+N
101 POKE P2,134
110 NEXTX
120 NEXTY
130 GOTO190
140 Z=V
150 V=V*V-W*W+X
160 W=2*W*Z+Y
170 N=N+1
180 GOTO60
190 LOCATE 10,22
200 PRINT"Press any key to exit"
205 LOCATE 19,11
210 K=GETKEY
300 REM GOSUB _OPSET
400 CLS
500 SET FAST OFF:END
1000 _OPGET
1005 REM Save original palette
1010 OP$=GETPALETTE$(0)
1020 RETURN
1100 _NPSET
1110 REM Define Greyscale Palette
1120 DEF RGBLIST N1$=0,0,0;1,1,1;2,2,2;3,3,3
1130 DEF RGBLIST N2$=4,4,4;5,5,5;6,6,6;7,7,7
1140 DEF RGBLIST N3$=8,8,8;9,9,9;10,10,10;11,11,11
1150 DEF RGBLIST N4$=12,12,12;13,13,13;14,14,14;15,15,15
1160 NP$ = N1$+N2$+N3$+N4$
1170 SET PALETTE 0 TO NP$
1199 RETURN
1200 _OPSET
1205 REM Restore original palette
1210 SET PALETTE 0 TO OP$
1220 RETURN
